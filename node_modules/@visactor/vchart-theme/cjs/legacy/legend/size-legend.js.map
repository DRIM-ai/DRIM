{"version":3,"sources":["../src/legacy/legend/size-legend.ts"],"names":[],"mappings":";;;AAEA,6CAA+D;AAE/D,MAAM,eAAe,GAAG,CAAC,KAA2C,EAAqC,EAAE,CAAC,CAAC;IAC3G,KAAK,EAAE;QACL,UAAU,EAAE,kBAAkB,CAAC,KAAK,CAAC;QACrC,IAAI,EAAE,MAAM;QACZ,SAAS,EAAE,CAAC;QACZ,IAAI,EAAE,EAAE;QACR,MAAM,EAAE,MAAM;QACd,WAAW,EAAE,KAAK;KACnB;CACF,CAAC,CAAC;AAEU,QAAA,UAAU,GAAqB;IAC1C,UAAU,kCACL,4CAA+B,KAClC,cAAc,EAAE;YACd,IAAI,EAAE,SAAS;SAChB,EACD,KAAK,EAAE;YACL,KAAK,EAAE;gBACL,IAAI,EAAE,oBAAoB;aAC3B;SACF,EACD,IAAI,EAAE;YACJ,KAAK,EAAE,GAAG;YACV,MAAM,EAAE,CAAC;YACT,KAAK,EAAE;gBACL,IAAI,EAAE,kBAAkB;aACzB;SACF,EACD,OAAO,EAAE,eAAe,CAAC,KAAK,CAAC,GAChC;IACD,QAAQ,kCACH,4CAA+B,KAClC,cAAc,EAAE;YACd,IAAI,EAAE,SAAS;SAChB,EACD,KAAK,EAAE;YACL,KAAK,EAAE;gBACL,IAAI,EAAE,oBAAoB;aAC3B;SACF,EACD,IAAI,EAAE;YACJ,KAAK,EAAE,CAAC;YACR,MAAM,EAAE,GAAG;YACX,KAAK,EAAE;gBACL,IAAI,EAAE,kBAAkB;aACzB;SACF,EACD,OAAO,EAAE,eAAe,CAAC,OAAO,CAAC,GAClC;CACF,CAAC;AAEF,SAAgB,kBAAkB,CAAC,QAA6C,QAAQ;IACtF,IAAI,OAAO,GAAG,CAAC,CAAC;IAChB,MAAM,OAAO,GAAG,CAAC,CAAC;IAClB,MAAM,SAAS,GAAG,GAAG,CAAC;IACtB,MAAM,QAAQ,GAAG,GAAG,CAAC;IACrB,MAAM,MAAM,GAAG,CAAC,CAAC;IAEjB,IAAI,KAAK,KAAK,KAAK,EAAE;QACnB,OAAO;OACJ,OAAO,IAAI,OAAO,GAAG,MAAM,IAAI,OAAO,GAAG,SAAS,IAAI,OAAO,GAAG,QAAQ;OACxE,CAAC,GAAG,QAAQ;OACZ,CAAC,GAAG,SAAS;OACb,CAAC,CAAC,GAAG,QAAQ;;CAEnB,CAAC;KACC;IAED,IAAI,KAAK,KAAK,MAAM,EAAE;QACpB,OAAO,GAAG,CAAC,CAAC;QACZ,OAAO;OACJ,OAAO,GAAG,MAAM,IAAI,OAAO,IAAI,OAAO,GAAG,MAAM,GAAG,QAAQ,IAAI,OAAO,GAAG,SAAS;OACjF,CAAC,GAAG,QAAQ;OACZ,CAAC,GAAG,SAAS;OACb,CAAC,CAAC,GAAG,QAAQ;;CAEnB,CAAC;KACC;IAED,IAAI,KAAK,KAAK,OAAO,EAAE;QACrB,OAAO,GAAG,CAAC,CAAC,CAAC;QAEb,OAAO;OACJ,OAAO,GAAG,MAAM,IAAI,OAAO,IAAI,OAAO,GAAG,MAAM,GAAG,QAAQ,IAAI,OAAO,GAAG,SAAS;OACjF,CAAC,CAAC,GAAG,QAAQ;OACb,CAAC,GAAG,SAAS;OACb,CAAC,GAAG,QAAQ;;GAEhB,CAAC;KACD;IAED,OAAO;OACF,OAAO,IAAI,OAAO,GAAG,MAAM,IAAI,OAAO,GAAG,SAAS,IAAI,OAAO,GAAG,QAAQ;OACxE,CAAC,CAAC,GAAG,QAAQ;OACb,CAAC,GAAG,SAAS;OACb,CAAC,GAAG,QAAQ;;CAElB,CAAC;AACF,CAAC;AA/CD,gDA+CC","file":"size-legend.js","sourcesContent":["// eslint-disable-next-line no-duplicate-imports\nimport type { IContinuousLegendTheme, ISizeLegendTheme } from '@visactor/vchart';\nimport { DEFAULT_CONTINUOUS_LEGEND_THEME } from './continuous';\n\nconst getHandlerTheme = (align?: 'top' | 'bottom' | 'left' | 'right'): IContinuousLegendTheme['handler'] => ({\n  style: {\n    symbolType: getSizeHandlerPath(align),\n    fill: '#fff',\n    lineWidth: 1,\n    size: 10,\n    stroke: '#ccc',\n    outerBorder: false\n  }\n});\n\nexport const sizeLegend: ISizeLegendTheme = {\n  horizontal: {\n    ...DEFAULT_CONTINUOUS_LEGEND_THEME,\n    sizeBackground: {\n      fill: '#cdcdcd'\n    },\n    track: {\n      style: {\n        fill: 'rgba(20,20,20,0.1)'\n      }\n    },\n    rail: {\n      width: 200,\n      height: 4,\n      style: {\n        fill: 'rgba(0,0,0,0.04)'\n      }\n    },\n    handler: getHandlerTheme('top')\n  },\n  vertical: {\n    ...DEFAULT_CONTINUOUS_LEGEND_THEME,\n    sizeBackground: {\n      fill: '#cdcdcd'\n    },\n    track: {\n      style: {\n        fill: 'rgba(20,20,20,0.1)'\n      }\n    },\n    rail: {\n      width: 4,\n      height: 200,\n      style: {\n        fill: 'rgba(0,0,0,0.04)'\n      }\n    },\n    handler: getHandlerTheme('right')\n  }\n};\n\nexport function getSizeHandlerPath(align: 'top' | 'bottom' | 'left' | 'right' = 'bottom') {\n  let centerX = 0;\n  const centerY = 0;\n  const upperHalf = 3.5;\n  const leftHalf = 2.5;\n  const arrowY = 6;\n\n  if (align === 'top') {\n    return `\n    M${centerX},${centerY - arrowY}L${centerX - upperHalf},${centerY - leftHalf}\n    v${2 * leftHalf}\n    h${2 * upperHalf}\n    v${-2 * leftHalf}\n    Z\n`;\n  }\n\n  if (align === 'left') {\n    centerX = 1;\n    return `\n    M${centerX - arrowY},${centerY}L${centerX - arrowY + leftHalf},${centerY - upperHalf}\n    h${2 * leftHalf}\n    v${2 * upperHalf}\n    h${-2 * leftHalf}\n    Z\n`;\n  }\n\n  if (align === 'right') {\n    centerX = -1;\n\n    return `\n    M${centerX + arrowY},${centerY}L${centerX + arrowY - leftHalf},${centerY - upperHalf}\n    h${-2 * leftHalf}\n    v${2 * upperHalf}\n    h${2 * leftHalf}\n    Z\n  `;\n  }\n\n  return `\n    M${centerX},${centerY + arrowY}L${centerX - upperHalf},${centerY + leftHalf}\n    v${-2 * leftHalf}\n    h${2 * upperHalf}\n    v${2 * leftHalf}\n    Z\n`;\n}\n"]}