import { evaluateGroupColumnValue, } from '../select';
import { judgeFilterTree } from './filter';
export const having = ({ filter, source }) => {
    if (!(filter === null || filter === void 0 ? void 0 : filter.conditions.length))
        return (grouped) => grouped;
    return (grouped) => grouped.filter(group => {
        return judgeFilterTree({
            filterNode: filter,
            item: group,
            getValue: ({ item, condition }) => evaluateGroupColumnValue({
                group: item,
                source,
                column: condition,
            }),
        });
    });
};
