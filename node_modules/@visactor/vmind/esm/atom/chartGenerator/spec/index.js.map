{"version":3,"sources":["../src/atom/chartGenerator/spec/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["import { ChartType } from '../../../types';\nimport type { GenerateChartCellContext } from '../type';\nimport { estimateVideoTime } from '../utils';\nimport { llmChartTypeMap } from './chartTypeUtils';\nimport { pipelineBar } from './transformers/bar';\nimport { pipelineBoxPlot } from './transformers/boxplot';\nimport { pipelineBubbleCirclePacking } from './transformers/circlePacking';\nimport { pipelineCircularProgress } from './transformers/circularProgress';\nimport { revisedVChartType, theme } from './transformers/common';\nimport { pipelineDualAxis } from './transformers/dualAxis';\nimport { pipelineFunnel } from './transformers/funnel';\nimport { pipelineGauge } from './transformers/gauge';\nimport { pipelineBasicHeatMap } from './transformers/heatmap';\nimport { pipelineLine } from './transformers/line';\nimport { pipelineLinearProgress } from './transformers/linearProgress';\nimport { pipelineLiquid } from './transformers/liquid';\nimport { pipelineMapChart } from './transformers/map';\nimport { pipelinePie } from './transformers/pie';\nimport { pipelineRadar } from './transformers/radar';\nimport { pipelineRangeColumn } from './transformers/rangeColumn';\nimport { pipelineRankingBar } from './transformers/rankingBar';\nimport { pipelineRose } from './transformers/rose';\nimport { pipelineSankey } from './transformers/sankey';\nimport { pipelineScatterPlot } from './transformers/scatter';\nimport { fomartSimpleSpec } from './transformers/simpleSpec';\nimport { pipelineSunburst } from './transformers/sunburst';\nimport { pipelineTreemap } from './transformers/treemap';\nimport { pipelineVenn } from './transformers/venn';\nimport { pipelineWaterfall } from './transformers/waterfall';\nimport { pipelineWordCloud } from './transformers/wordcloud';\n\nconst pipelineMap: { [chartType: string]: any } = {\n  [ChartType.BarChart.toUpperCase()]: pipelineBar,\n  [ChartType.LineChart.toUpperCase()]: pipelineLine,\n  [ChartType.AreaChart.toUpperCase()]: pipelineLine,\n  [ChartType.PieChart.toUpperCase()]: pipelinePie,\n  [ChartType.WordCloud.toUpperCase()]: pipelineWordCloud,\n  [ChartType.ScatterPlot.toUpperCase()]: pipelineScatterPlot,\n  [ChartType.DynamicBarChart.toUpperCase()]: pipelineRankingBar,\n  [ChartType.FunnelChart.toUpperCase()]: pipelineFunnel,\n  [ChartType.DualAxisChart.toUpperCase()]: pipelineDualAxis,\n  [ChartType.RoseChart.toUpperCase()]: pipelineRose,\n  [ChartType.RadarChart.toUpperCase()]: pipelineRadar,\n  [ChartType.SankeyChart.toUpperCase()]: pipelineSankey,\n  [ChartType.WaterFallChart.toUpperCase()]: pipelineWaterfall,\n  [ChartType.BoxPlot.toUpperCase()]: pipelineBoxPlot,\n  [ChartType.LiquidChart.toUpperCase()]: pipelineLiquid,\n  [ChartType.LinearProgress.toUpperCase()]: pipelineLinearProgress,\n  [ChartType.CircularProgress.toUpperCase()]: pipelineCircularProgress,\n  [ChartType.BubbleCirclePacking.toUpperCase()]: pipelineBubbleCirclePacking,\n  [ChartType.MapChart.toUpperCase()]: pipelineMapChart,\n  [ChartType.RangeColumnChart.toUpperCase()]: pipelineRangeColumn,\n  [ChartType.SunburstChart.toUpperCase()]: pipelineSunburst,\n  [ChartType.TreemapChart.toUpperCase()]: pipelineTreemap,\n  [ChartType.Gauge.toUpperCase()]: pipelineGauge,\n  [ChartType.BasicHeatMap.toUpperCase()]: pipelineBasicHeatMap,\n  [ChartType.VennChart.toUpperCase()]: pipelineVenn\n};\n\nconst beforePipe = (context: GenerateChartCellContext) => {\n  return { spec: {} };\n};\n\nconst afterPipe = (context: GenerateChartCellContext) => {\n  const { spec, chartType, totalTime } = context;\n  return {\n    spec,\n    chartType: llmChartTypeMap[chartType],\n    time: estimateVideoTime(chartType, spec, totalTime ? totalTime * 1000 : undefined)\n  };\n};\n\nexport const getChartSpecWithContext = (context: GenerateChartCellContext) => {\n  const { chartType } = context;\n  const pipline = pipelineMap[chartType.toUpperCase()] ? pipelineMap[chartType.toUpperCase()] : [];\n\n  const chartSpecPipelines = [beforePipe, revisedVChartType, ...pipline, theme, fomartSimpleSpec, afterPipe];\n  let newContext = { ...context };\n  chartSpecPipelines.forEach(func => {\n    newContext = {\n      ...newContext,\n      ...func(newContext)\n    };\n  });\n  return newContext;\n};\n"]}