{"version":3,"sources":["../src/atom/chartGenerator/spec/transformers/heatmap.ts"],"names":[],"mappings":"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","file":"heatmap.js","sourcesContent":["import type { GenerateChartCellContext } from '../../type';\nimport { BASIC_HEAT_MAP_COLOR_THEMES } from '../constants';\nimport { arrayData, color, revisedVChartType, theme } from './common';\n\nexport const basicHeatMapSeries = (context: GenerateChartCellContext) => {\n  const { spec, cell } = context;\n  spec.series = [\n    {\n      type: 'heatmap',\n      regionId: 'region0',\n      xField: cell.x,\n      yField: cell.y,\n      valueField: cell.size,\n      cell: {\n        style: {\n          fill: {\n            field: cell.size,\n            scale: 'color'\n          }\n        }\n      }\n    }\n  ];\n  return { spec };\n};\nexport const basicHeatMapRegion = (context: GenerateChartCellContext) => {\n  const { spec } = context;\n  spec.region = [\n    {\n      id: 'region0',\n      width: 200, // limit the width of the region\n      height: 200, // limit the height of the region\n      padding: {\n        top: 40\n      }\n    }\n  ];\n  return { spec };\n};\nexport const basicHeatMapColor = (context: GenerateChartCellContext) => {\n  const { spec, cell } = context;\n  spec.color = {\n    type: 'linear',\n    domain: [\n      {\n        dataId: 'data',\n        fields: [cell.size]\n      }\n    ],\n    range: BASIC_HEAT_MAP_COLOR_THEMES\n  };\n  return { spec };\n};\nexport const basicHeatMapAxes = (context: GenerateChartCellContext) => {\n  const { spec } = context;\n  spec.axes = [\n    {\n      orient: 'bottom',\n      type: 'band',\n      grid: {\n        visible: false\n      },\n      domainLine: {\n        visible: false\n      },\n      label: {\n        space: 10,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'middle',\n          angle: 90,\n          fontSize: 8\n        }\n      },\n      bandPadding: 0,\n      height: (layoutRect: any) => {\n        // canvas height - region height - paddingTop - paddingBottom\n        return layoutRect.height - 314;\n      }\n    },\n    {\n      orient: 'left',\n      type: 'band',\n      grid: {\n        visible: false\n      },\n      domainLine: {\n        visible: false\n      },\n      label: {\n        space: 10,\n        style: {\n          fontSize: 8\n        }\n      },\n      bandPadding: 0\n    }\n  ];\n  return { spec };\n};\n\nexport const basicHeatMapLegend = (context: GenerateChartCellContext) => {\n  const { spec } = context;\n  spec.legends = {\n    visible: true,\n    orient: 'right',\n    position: 'start',\n    type: 'color',\n    field: 'value'\n  };\n  return { spec };\n};\n\nexport const pipelineBasicHeatMap = [\n  arrayData,\n  color,\n  basicHeatMapSeries,\n  basicHeatMapRegion,\n  basicHeatMapColor,\n  basicHeatMapAxes,\n  basicHeatMapLegend\n];\n"]}