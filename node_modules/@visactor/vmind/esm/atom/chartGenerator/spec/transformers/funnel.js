import { isValidDataTable } from "../../../../utils/dataTable";

import { color, commonLabel, discreteLegend } from "./common";

export const funnelData = context => {
    const {dataTable: dataTable, cell: cell, spec: spec} = context;
    return spec.data = {
        id: "data",
        values: isValidDataTable(dataTable) ? dataTable.sort(((a, b) => b[cell.y] - a[cell.y])) : []
    }, {
        spec: spec
    };
};

export const funnelField = context => {
    const {cell: cell, spec: spec} = context;
    return spec.categoryField = cell.color || cell.x, spec.valueField = cell.value || cell.y, 
    {
        spec: spec
    };
};

export const pipelineFunnel = [ funnelData, color, funnelField, discreteLegend, commonLabel ];
//# sourceMappingURL=funnel.js.map
