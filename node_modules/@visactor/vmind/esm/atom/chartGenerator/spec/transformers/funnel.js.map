{"version":3,"sources":["../src/atom/chartGenerator/spec/transformers/funnel.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,gBAAgB,EAAE,MAAM,6BAA6B,CAAC;AAE/D,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,cAAc,EAA4B,MAAM,UAAU,CAAC;AAExF,MAAM,CAAC,MAAM,UAAU,GAAG,CAAC,OAAiC,EAAE,EAAE;IAC9D,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;IAE1C,IAAI,CAAC,IAAI,GAAG;QACV,EAAE,EAAE,MAAM;QACV,MAAM,EAAE,gBAAgB,CAAC,SAAS,CAAC;YACjC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAM,EAAE,CAAM,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAW,CAAC,CAAC;YAC/E,CAAC,CAAC,EAAE;KACP,CAAC;IAEF,OAAO,EAAE,IAAI,EAAE,CAAC;AAClB,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,WAAW,GAAG,CAAC,OAAiC,EAAE,EAAE;IAE/D,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,OAAO,CAAC;IAC/B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC;IAC1C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC;IAEvC,OAAO,EAAE,IAAI,EAAE,CAAC;AAClB,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,cAAc,GAAG,CAAC,UAAU,EAAE,KAAK,EAAE,WAAW,EAAE,cAAc,EAAE,WAAW,CAAC,CAAC","file":"funnel.js","sourcesContent":["import { isValidDataTable } from '../../../../utils/dataTable';\nimport type { GenerateChartCellContext } from '../../type';\nimport { color, commonLabel, discreteLegend, revisedVChartType, theme } from './common';\n\nexport const funnelData = (context: GenerateChartCellContext) => {\n  const { dataTable, cell, spec } = context;\n  // spec.data = [dataTable]\n  spec.data = {\n    id: 'data',\n    values: isValidDataTable(dataTable)\n      ? dataTable.sort((a: any, b: any) => b[cell.y as string] - a[cell.y as string])\n      : []\n  };\n\n  return { spec };\n};\n\nexport const funnelField = (context: GenerateChartCellContext) => {\n  //assign field in spec according to cell\n  const { cell, spec } = context;\n  spec.categoryField = cell.color || cell.x;\n  spec.valueField = cell.value || cell.y;\n\n  return { spec };\n};\n\nexport const pipelineFunnel = [funnelData, color, funnelField, discreteLegend, commonLabel];\n"]}