{"version":3,"sources":["../src/atom/chartGenerator/spec/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["import { ChartType } from '../../../types';\nimport type { GenerateChartCellContext } from '../type';\nimport { estimateVideoTime } from '../utils';\nimport { llmChartTypeMap } from './chartTypeUtils';\nimport { pipelineBar } from './transformers/bar';\nimport { pipelineBoxPlot } from './transformers/boxplot';\nimport { pipelineBubbleCirclePacking } from './transformers/circlePacking';\nimport { pipelineCircularProgress } from './transformers/circularProgress';\nimport { revisedVChartType, theme } from './transformers/common';\nimport { pipelineDualAxis } from './transformers/dualAxis';\nimport { pipelineFunnel } from './transformers/funnel';\nimport { pipelineGauge } from './transformers/gauge';\nimport { pipelineBasicHeatMap } from './transformers/heatmap';\nimport { pipelineLine } from './transformers/line';\nimport { pipelineLinearProgress } from './transformers/linearProgress';\nimport { pipelineLiquid } from './transformers/liquid';\nimport { pipelineMapChart } from './transformers/map';\nimport { pipelinePie } from './transformers/pie';\nimport { pipelineRadar } from './transformers/radar';\nimport { pipelineRangeColumn } from './transformers/rangeColumn';\nimport { pipelineRankingBar } from './transformers/rankingBar';\nimport { pipelineRose } from './transformers/rose';\nimport { pipelineSankey } from './transformers/sankey';\nimport { pipelineScatterPlot } from './transformers/scatter';\nimport { fomartSimpleSpec } from './transformers/simpleSpec';\nimport { pipelineSunburst } from './transformers/sunburst';\nimport { pipelineTreemap } from './transformers/treemap';\nimport { pipelineVenn } from './transformers/venn';\nimport { pipelineWaterfall } from './transformers/waterfall';\nimport { pipelineWordCloud } from './transformers/wordcloud';\n\nconst pipelineMap: { [chartType: string]: any } = {\n  [ChartType.BarChart.toUpperCase()]: pipelineBar,\n  [ChartType.LineChart.toUpperCase()]: pipelineLine,\n  [ChartType.AreaChart.toUpperCase()]: pipelineLine,\n  [ChartType.PieChart.toUpperCase()]: pipelinePie,\n  [ChartType.WordCloud.toUpperCase()]: pipelineWordCloud,\n  [ChartType.ScatterPlot.toUpperCase()]: pipelineScatterPlot,\n  [ChartType.DynamicBarChart.toUpperCase()]: pipelineRankingBar,\n  [ChartType.FunnelChart.toUpperCase()]: pipelineFunnel,\n  [ChartType.DualAxisChart.toUpperCase()]: pipelineDualAxis,\n  [ChartType.RoseChart.toUpperCase()]: pipelineRose,\n  [ChartType.RadarChart.toUpperCase()]: pipelineRadar,\n  [ChartType.SankeyChart.toUpperCase()]: pipelineSankey,\n  [ChartType.WaterFallChart.toUpperCase()]: pipelineWaterfall,\n  [ChartType.BoxPlot.toUpperCase()]: pipelineBoxPlot,\n  [ChartType.LiquidChart.toUpperCase()]: pipelineLiquid,\n  [ChartType.LinearProgress.toUpperCase()]: pipelineLinearProgress,\n  [ChartType.CircularProgress.toUpperCase()]: pipelineCircularProgress,\n  [ChartType.BubbleCirclePacking.toUpperCase()]: pipelineBubbleCirclePacking,\n  [ChartType.MapChart.toUpperCase()]: pipelineMapChart,\n  [ChartType.RangeColumnChart.toUpperCase()]: pipelineRangeColumn,\n  [ChartType.SunburstChart.toUpperCase()]: pipelineSunburst,\n  [ChartType.TreemapChart.toUpperCase()]: pipelineTreemap,\n  [ChartType.Gauge.toUpperCase()]: pipelineGauge,\n  [ChartType.BasicHeatMap.toUpperCase()]: pipelineBasicHeatMap,\n  [ChartType.VennChart.toUpperCase()]: pipelineVenn\n};\n\nconst beforePipe = (context: GenerateChartCellContext) => {\n  return { spec: {} };\n};\n\nconst afterPipe = (context: GenerateChartCellContext) => {\n  const { spec, chartType, totalTime } = context;\n  return {\n    spec,\n    chartType: llmChartTypeMap[chartType],\n    time: estimateVideoTime(chartType, spec, totalTime ? totalTime * 1000 : undefined)\n  };\n};\n\nexport const getChartSpecWithContext = (context: GenerateChartCellContext) => {\n  const { chartType } = context;\n  const pipline = pipelineMap[chartType.toUpperCase()] ? pipelineMap[chartType.toUpperCase()] : [];\n\n  const chartSpecPipelines = [beforePipe, revisedVChartType, ...pipline, theme, fomartSimpleSpec, afterPipe];\n  let newContext = { ...context };\n  chartSpecPipelines.forEach(func => {\n    newContext = {\n      ...newContext,\n      ...func(newContext)\n    };\n  });\n  return newContext;\n};\n"]}